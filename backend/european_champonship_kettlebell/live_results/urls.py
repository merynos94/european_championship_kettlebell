from django.urls import path, include
from rest_framework.routers import DefaultRouter

from . import views

router = DefaultRouter()

# Register ViewSets with the router
# router.register(url_prefix, ViewSetClass, basename)
# - url_prefix: How the beginning of the URL for this resource should look (e.g. 'categories')
# - ViewSetClass: ViewSet class to register (e.g. views.CategoryViewSet)
# - basename: Name used to generate URL names (important for reverse()). Good practice is to use model name in singular.

router.register(r'categories', views.CategoryViewSet, basename='category')
# This registration will automatically handle:
# - /api/categories/ (GET - list of categories, POST - if you add handling in ViewSet)
# - /api/categories/{pk}/ (GET - category details, PUT/PATCH/DELETE - if you add handling)
# - /api/categories/{pk}/results/ (GET - our custom 'results' action)

router.register(r'sportclubs', views.SportClubViewSet, basename='sportclub')
# This registration will handle:
# - /api/sportclubs/ (GET - list of clubs)
# - /api/sportclubs/{pk}/ (GET - club details)

# If you created PlayerViewSet, register it as well:
# router.register(r'players', views.PlayerViewSet, basename='player')

# Main urlpatterns list for this application's API
# We start with URLs generated by the router
urlpatterns = [
    path('', include(router.urls)),
    # You can add other URL paths for views not based on ViewSets here, if you have them
    # e.g. path('custom-view/', views.my_custom_api_view, name='custom-view'),
    path('lista-startowa/', views.generate_start_list, name='generate_start_list'),

]
